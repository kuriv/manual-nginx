# 高可用部署

准备好两台 Nginx 服务器，分别执行下面的命令，在 Ubuntu 系统中安装 Keepalived 服务。

```
sudo apt-get install keepalived
```

安装完成后，执行下面的命令检查 Keepalived 服务运行状态。

```
sudo systemctl status keepalived
```

修改第一台服务器的 `/etc/keepalived/keepalived.conf` 配置文件如下。

```
vrrp_instance VI_1 {
    state MASTER
    interface eth0
    virtual_router_id 51
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        192.168.10.100
    }
}
```

修改第二台服务器的 `/etc/keepalived/keepalived.conf` 配置文件如下。

```
vrrp_instance VI_1 {
    state BACKUP
    interface eth0
    virtual_router_id 51
    priority 80
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        192.168.10.100
    }
}
```

重启 Keepalived 服务后，XXX
